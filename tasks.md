## 10 - Макрокоманды

Научиться обрабатывать ситуации с точки зрения SOLID, когда требуется уточнить существующее поведение без модификации существующего кода.  
Предположим, что у нас уже написаны команды MoveCommand и RotateCommand. Теперь возникло новое требование: пользователи в игре могут устанавливать правило - во время движение расходуется топливо, двигаться можно только при наличии топлива.  
Реализовать новую возможность можно введя две новые команды.  
CheckFuelCommand и BurnFuelCommand.  
CheckFuelCommand проверяет, что топлива достаточно, если нет, то выбрасывает исключение CommandException.  
BurnFuelCommand уменьшает количество топлива на скорость расхода топлива.  
После этого мы можем три команды выстроить в цепочку.  
CheckFuelCommand MoveCommand BurnFuelCommand  
Чтобы это было прозрачно для пользователя реализуем Макрокоманду - специальную разновидность команды, которая в конструкторе принимает массив команда,  
а методе execute их все последовательно выполняет.  
При повороте движущегося объекта меняется вектор мгновенной скорости. Напишите команду, которая модифицирует вектор мгновенной скорости, в случае поворота.  
Постройте цепочку команд для поворота.

Описание/Пошаговая инструкция выполнения домашнего задания:

1. Реализовать класс CheckFuelComamnd и тесты к нему.
2. Реализовать класс BurnFuelCommand и тесты к нему.
3. Реализовать простейшую макрокоманду и тесты к ней. Здесь простейшая - это значит, что при выбросе исключения вся последовательность команд приостанавливает свое выполнение, а макрокоманда выбрасывает CommandException.
4. Реализовать команду движения по прямой с расходом топлива, используя команды с предыдущих шагов.
5. Реализовать команду для модификации вектора мгновенной скорости при повороте. Необходимо учесть, что не каждый разворачивающийся объект движется.
6. Реализовать команду поворота, которая еще и меняет вектор мгновенной скорости, если есть.
  
Критерии оценки:

1. Домашнее задание сдано - 1 балл.
2. Реализована команда CheckFuelCommand - 1балл
3. Написаны тесты к CheckFuelComamnd - 1 балл
4. Реализована команда BurnFuelCommand - 1балл
5. Написаны тесты к BurnFuelComamnd - 1 балл
6. Реализована макрокоманда движения по прямой с расходом топлива и тесты к ней - 1 балл
7. Написаны тесты к MacroComamnd - 1 балл
8. Реализована команда ChangeVelocityCommand - 1балл
9. Написаны тесты к ChangeVelocityComamnd - 1 балл
10. Реализована команда поворота, которая еще и меняет вектор мгновенной скорости - 1балл

## 09 - Механизм обработки исключений

https://gist.github.com/zaryanezrya/b51ab8a863e76ac570a3712fb3038474

Научится писать различные стратегии обработки исключений так, чтобы соответствующий блок try-catсh не приходилось модифицировать каждый раз, когда возникает потребность в обработке исключительной ситуации по-новому.

Описание/Пошаговая инструкция выполнения домашнего задания:

Предположим, что все команды находятся в некоторой очереди. Обработка очереди заключается в чтении очередной команды и головы очереди и вызова метода Execute извлеченной команды. Метод Execute() может выбросить любое произвольное исключение.

1. Обернуть вызов Команды в блок try-catch.
2. Обработчик catch должен перехватывать только самое базовое исключение.
3. Есть множество различных обработчиков исключений. Выбор подходящего обработчика исключения делается на основе экземпляра перехваченного исключения и команды, которая выбросила исключение.
4. Реализовать Команду, которая записывает информацию о выброшенном исключении в лог.
5. Реализовать обработчик исключения, который ставит Команду, пишущую в лог в очередь Команд.
6. Реализовать Команду, которая повторяет Команду, выбросившую исключение.
7. Реализовать обработчик исключения, который ставит в очередь Команду - повторитель команды, выбросившей исключение.
8. С помощью Команд из пункта 4 и пункта 6 реализовать следующую обработку исключений:  
    при первом выбросе исключения повторить команду, при повторном выбросе исключения записать информацию в лог.
9. Реализовать стратегию обработки исключения - повторить два раза, потом записать в лог. Указание: создать новую команду, точно такую же как в пункте 6. Тип этой команды будет показывать, что Команду не удалось выполнить два раза.

Критерии оценки:

1. ДЗ сдано на оценку - 2 балла
2. Реализованы пункты 4-7. - 2 балла.
3. Написаны тесты к пункту 4-7. - 2 балла
4. Реализован пункт 8. - 1 балл
5. Написаны тесты к пункту 8. - 1 балл
6. Реализован пункт 9. - 1 балл
7. Написаны тесты к пункту 9. - 1 балл  


## 08 - Движение игровых объектов по полю

Реализовать движение объектов на игровом поле в рамках подсистемы Игровой сервер.

Критерии оценки:

За выполнение каждого пункта, перечисленного ниже начисляются баллы:

1. ДЗ сдано на проверку - 1 балл
2. Оформлен pull/merge request на github/gitlab - 1 балл
3. Настроен CI - 2 балла
4. Прямолинейное равномерное движение без деформации.
5. 1. Само движение реализовано в виде отдельного класса - 1 балл.
6. 2. Для движущихся объектов определен интерфейс, устойчивый к появлению новых видов движущихся объектов - 1 балл
7. 3. Реализован тесты:

- Для объекта, находящегося в точке (12, 5) и движущегося со скоростью (-7, 3) движение меняет положение объекта на (5, 8)
- Попытка сдвинуть объект, у которого невозможно прочитать положение в пространстве, приводит к ошибке
- Попытка сдвинуть объект, у которого невозможно прочитать значение мгновенной скорости, приводит к ошибке
- Попытка сдвинуть объект, у которого невозможно изменить положение в пространстве, приводит к ошибке  
    1 балл

5. Поворот объекта вокруг оси.
6. 1. Сам поворот реализован в виде отдельного класса - 1 балл
7. 2. Для поворачивающегося объекта определен интерфейс, устойчивый к появлению новых видов движущихся объектов - 1 балл
8. 3. Реализован тесты - 1 балл.  
